<!DOCTYPE html>
<html lang="zh-CN">
    <head>
    <meta charset="utf-8">

    

    <!-- 渲染优化 -->
    <meta name="renderer" content="webkit">
    <meta name="force-rendering" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="HandheldFriendly" content="True" >
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!--icon-->

    <link rel="shortcut icon" type='image/x-icon' href="https://cdn.jsdelivr.net/gh/wzxyy/cdn/tian.jpg">


    <!-- meta -->


<title>面面移动端项目 | 夜雨声繁</title>


    <meta name="keywords" content="Vue">




    <!-- OpenGraph -->
 
    <meta name="description" content="Vue2.0 + vant-ui 的移动端练手项目">
<meta property="og:type" content="article">
<meta property="og:title" content="面面移动端项目">
<meta property="og:url" content="http://yoursite.com/2020/08/07/Vue%E7%A7%BB%E5%8A%A8%E7%AB%AF/index.html">
<meta property="og:site_name" content="夜雨声繁">
<meta property="og:description" content="Vue2.0 + vant-ui 的移动端练手项目">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-08-07T07:00:00.000Z">
<meta property="article:modified_time" content="2020-10-09T06:39:24.096Z">
<meta property="article:author" content="wzx">
<meta property="article:tag" content="Vue">
<meta name="twitter:card" content="summary_large_image">


    
<link rel="stylesheet" href="/css/style/main.css">
 



    
    
        <link rel="stylesheet" id="hl-default-theme" href="/css/highlight/Atom%20One%20Dark.css" media="none" onload="if(getComputedStyle(document.documentElement).getPropertyValue('--color-mode').indexOf('dark')===-1)this.media='all'">
        
    

    
    

     

    <!-- custom head -->

<meta name="generator" content="Hexo 5.0.2"></head>

    <body>
        <div id="app">
            <header class="header">
    <div class="header__left">
        <a href="/" class="button">
            <span class="logo__text">Home</span>
        </a>
    </div>
    <div class="header__right">
        
            <div class="navbar__menus">
                
                    <a href="/archives/" class="navbar-menu button">归档</a>
                
            </div>
        
        
        

        
        

         
    <a href="#" class="button" id="b2t" aria-label="回到顶部" title="回到顶部">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" width="32" height="32">
            <path d="M233.376 722.752L278.624 768 512 534.624 745.376 768l45.248-45.248L512 444.128zM192 352h640V288H192z" fill="currentColor"></path>
        </svg>
    </a>


        
            <a class="dropdown-icon button" id="btn-dropdown"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width='24' height='24' fill="none" stroke="currentColor" stroke-width="0.7" stroke-linecap="round" stroke-linejoin="round"><path fill="currentColor" d="M3.314,4.8h13.372c0.41,0,0.743-0.333,0.743-0.743c0-0.41-0.333-0.743-0.743-0.743H3.314c-0.41,0-0.743,0.333-0.743,0.743C2.571,4.467,2.904,4.8,3.314,4.8z M16.686,15.2H3.314c-0.41,0-0.743,0.333-0.743,0.743s0.333,0.743,0.743,0.743h13.372c0.41,0,0.743-0.333,0.743-0.743S17.096,15.2,16.686,15.2z M16.686,9.257H3.314c-0.41,0-0.743,0.333-0.743,0.743s0.333,0.743,0.743,0.743h13.372c0.41,0,0.743-0.333,0.743-0.743S17.096,9.257,16.686,9.257z"></path></svg></a>
            <div class="dropdown-menus" id="dropdown-menus">
                
                    <a href="/archives/" class="dropdown-menu button">归档</a>
                
            </div>
        
    </div>
</header>


            <main class="main">
    

<div class="post-title">
    <h1 class="post-title__text">
        面面移动端项目
    </h1>
    <div class="post-title__meta">
        <a href="/archives/2020/08/" class="post-meta__date button">
    2020-08-07
</a>
        
    <span class="separate-dot"></span><a href="/categories/%E7%BB%83%E4%B9%A0/" class="button">练习</a>

 
        
    
    


 

 
    </div>
</div>


    <aside class="post-side">
        <div class="post-side__toc">
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="toc-text">1.创建项目</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-vue-create"><span class="toc-text">1.1 vue create</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE"><span class="toc-text">1.2 自定义配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-1-%E9%80%89%E6%8B%A9%E6%8F%92%E4%BB%B6"><span class="toc-text">1.2.1 选择插件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-2-%E9%80%89%E6%8B%A9%E8%B7%AF%E7%94%B1%E6%A8%A1%E5%BC%8F"><span class="toc-text">1.2.2 选择路由模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-3-%E9%85%8D%E7%BD%AECss%E9%A2%84%E5%A4%84%E7%90%86"><span class="toc-text">1.2.3 配置Css预处理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-4-%E9%85%8D%E7%BD%AE-eslint"><span class="toc-text">1.2.4 配置 eslint</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-5-%E9%9B%86%E6%88%90%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">1.2.5 集成配置文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-5-%E4%BF%9D%E5%AD%98%E6%AC%A1%E9%85%8D%E7%BD%AE%E9%80%89%E9%A1%B9"><span class="toc-text">1.2.5 保存次配置选项</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-eslint-%E2%80%9C-%E6%A0%87%E5%87%86%E8%A7%84%E8%8C%83-%E2%80%9D"><span class="toc-text">1.3 eslint “ 标准规范 ”</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-1-%E5%85%B7%E4%BD%93%E8%A7%84%E5%AE%9A"><span class="toc-text">1.3.1 具体规定</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-2-%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%8F%92%E4%BB%B6"><span class="toc-text">1.3.2 格式化插件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-3-%E6%B3%A8%E6%84%8F%E7%82%B9"><span class="toc-text">1.3.3 注意点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-%E7%BA%AF%E5%87%80%E5%8C%96%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84"><span class="toc-text">1.4 纯净化项目结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-1-%E5%88%A0%E9%99%A4%E4%B8%8D%E9%9C%80%E8%A6%81%E7%9A%84"><span class="toc-text">1.4.1 删除不需要的</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-2-%E6%B7%BB%E5%8A%A0%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="toc-text">1.4.2 添加文件夹</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%AF%BC%E5%85%A5%E7%BB%84%E4%BB%B6"><span class="toc-text">2.导入组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E9%A1%B5%E9%9D%A2%E9%80%82%E9%85%8D"><span class="toc-text">3.页面适配</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-flexible"><span class="toc-text">3.1 flexible</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-postcss-pxtorem"><span class="toc-text">3.2 postcss-pxtorem</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3%E5%85%A8%E5%B1%80%E7%9A%84less%E5%A4%84%E7%90%86"><span class="toc-text">3.3全局的less处理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-1-%E5%AE%9A%E4%B9%89%E5%85%A8%E5%B1%80%E6%96%87%E4%BB%B6"><span class="toc-text">3.3.1 定义全局文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-2-%E8%A3%85%E5%8C%85"><span class="toc-text">3.3.2 装包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-3-%E9%85%8D%E7%BD%AE"><span class="toc-text">3.3.3 配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-4-less%E5%8F%AF%E5%8F%98%E6%8F%92%E5%80%BC"><span class="toc-text">3.3.4 less可变插值</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-normalize-css"><span class="toc-text">4. normalize.css</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E9%85%8D%E7%BD%AE%E5%9C%B0%E5%9D%80%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-text">5. 配置地址环境变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-axios%EF%BC%8C%E9%85%8D%E7%BD%AE%E5%9F%BA%E5%9C%B0%E5%9D%80"><span class="toc-text">6.axios，配置基地址</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E8%B5%B7%E6%AD%A5"><span class="toc-text">3.起步</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2"><span class="toc-text">3.1 登录页面</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-1-%E5%88%9B%E5%BB%BA-login-%E9%A1%B5"><span class="toc-text">3.1.1 创建 login 页</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-2-%E9%85%8D%E7%BD%AE%E8%B7%AF%E7%94%B1"><span class="toc-text">3.1.2 配置路由</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-3-%E8%AE%BE%E7%BD%AE%E8%B7%AF%E7%94%B1%E5%87%BA%E5%8F%A3"><span class="toc-text">3.1.3 设置路由出口</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-4-%E9%85%8D%E7%BD%AEbase-css"><span class="toc-text">3.1.4 配置base.css</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-5-%E9%85%8D%E7%BD%AE%E5%85%A8%E5%B1%80less"><span class="toc-text">3.1.5 配置全局less</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-6-%E5%B8%83%E5%B1%80"><span class="toc-text">3.1.6 布局</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-7%E8%A1%A8%E5%8D%95%E9%AA%8C%E8%AF%81"><span class="toc-text">3.1.7表单验证</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-8-%E8%8E%B7%E5%8F%96%E9%AA%8C%E8%AF%81%E7%A0%81"><span class="toc-text">3.1.8 获取验证码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-9-%E8%AE%BE%E7%BD%AE%E5%80%92%E8%AE%A1%E6%97%B6"><span class="toc-text">3.1.9 设置倒计时</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-0-%E7%99%BB%E5%BD%95%E6%88%90%E5%8A%9F"><span class="toc-text">3.2.0 登录成功</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-1-vuex%E4%BF%9D%E5%AD%98%E6%88%B7%E4%BF%A1%E6%81%AF"><span class="toc-text">3.2.1 vuex保存户信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-2-%E4%BF%9D%E5%AD%98token"><span class="toc-text">3.2.2 保存token</span></a></li></ol></li></ol></li></ol>
        </div>
    </aside>
    <a class="btn-toc button" id="btn-toc">
        <svg viewBox="0 0 1024 1024" width="32" height="32" xmlns="http://www.w3.org/2000/svg">
            <path d="M128 256h64V192H128zM320 256h576V192H320zM128 544h64v-64H128zM320 544h576v-64H320zM128 832h64v-64H128zM320 832h576v-64H320z" fill="currentColor"></path>
        </svg>
    </a>
    <div class="toc-menus" id="toc-menus">
        <div class="toc-title">文章目录</div>
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="toc-text">1.创建项目</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-vue-create"><span class="toc-text">1.1 vue create</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE"><span class="toc-text">1.2 自定义配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-1-%E9%80%89%E6%8B%A9%E6%8F%92%E4%BB%B6"><span class="toc-text">1.2.1 选择插件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-2-%E9%80%89%E6%8B%A9%E8%B7%AF%E7%94%B1%E6%A8%A1%E5%BC%8F"><span class="toc-text">1.2.2 选择路由模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-3-%E9%85%8D%E7%BD%AECss%E9%A2%84%E5%A4%84%E7%90%86"><span class="toc-text">1.2.3 配置Css预处理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-4-%E9%85%8D%E7%BD%AE-eslint"><span class="toc-text">1.2.4 配置 eslint</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-5-%E9%9B%86%E6%88%90%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">1.2.5 集成配置文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-5-%E4%BF%9D%E5%AD%98%E6%AC%A1%E9%85%8D%E7%BD%AE%E9%80%89%E9%A1%B9"><span class="toc-text">1.2.5 保存次配置选项</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-eslint-%E2%80%9C-%E6%A0%87%E5%87%86%E8%A7%84%E8%8C%83-%E2%80%9D"><span class="toc-text">1.3 eslint “ 标准规范 ”</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-1-%E5%85%B7%E4%BD%93%E8%A7%84%E5%AE%9A"><span class="toc-text">1.3.1 具体规定</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-2-%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%8F%92%E4%BB%B6"><span class="toc-text">1.3.2 格式化插件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-3-%E6%B3%A8%E6%84%8F%E7%82%B9"><span class="toc-text">1.3.3 注意点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-%E7%BA%AF%E5%87%80%E5%8C%96%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84"><span class="toc-text">1.4 纯净化项目结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-1-%E5%88%A0%E9%99%A4%E4%B8%8D%E9%9C%80%E8%A6%81%E7%9A%84"><span class="toc-text">1.4.1 删除不需要的</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-2-%E6%B7%BB%E5%8A%A0%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="toc-text">1.4.2 添加文件夹</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%AF%BC%E5%85%A5%E7%BB%84%E4%BB%B6"><span class="toc-text">2.导入组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E9%A1%B5%E9%9D%A2%E9%80%82%E9%85%8D"><span class="toc-text">3.页面适配</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-flexible"><span class="toc-text">3.1 flexible</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-postcss-pxtorem"><span class="toc-text">3.2 postcss-pxtorem</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3%E5%85%A8%E5%B1%80%E7%9A%84less%E5%A4%84%E7%90%86"><span class="toc-text">3.3全局的less处理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-1-%E5%AE%9A%E4%B9%89%E5%85%A8%E5%B1%80%E6%96%87%E4%BB%B6"><span class="toc-text">3.3.1 定义全局文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-2-%E8%A3%85%E5%8C%85"><span class="toc-text">3.3.2 装包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-3-%E9%85%8D%E7%BD%AE"><span class="toc-text">3.3.3 配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-4-less%E5%8F%AF%E5%8F%98%E6%8F%92%E5%80%BC"><span class="toc-text">3.3.4 less可变插值</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-normalize-css"><span class="toc-text">4. normalize.css</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E9%85%8D%E7%BD%AE%E5%9C%B0%E5%9D%80%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-text">5. 配置地址环境变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-axios%EF%BC%8C%E9%85%8D%E7%BD%AE%E5%9F%BA%E5%9C%B0%E5%9D%80"><span class="toc-text">6.axios，配置基地址</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E8%B5%B7%E6%AD%A5"><span class="toc-text">3.起步</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2"><span class="toc-text">3.1 登录页面</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-1-%E5%88%9B%E5%BB%BA-login-%E9%A1%B5"><span class="toc-text">3.1.1 创建 login 页</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-2-%E9%85%8D%E7%BD%AE%E8%B7%AF%E7%94%B1"><span class="toc-text">3.1.2 配置路由</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-3-%E8%AE%BE%E7%BD%AE%E8%B7%AF%E7%94%B1%E5%87%BA%E5%8F%A3"><span class="toc-text">3.1.3 设置路由出口</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-4-%E9%85%8D%E7%BD%AEbase-css"><span class="toc-text">3.1.4 配置base.css</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-5-%E9%85%8D%E7%BD%AE%E5%85%A8%E5%B1%80less"><span class="toc-text">3.1.5 配置全局less</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-6-%E5%B8%83%E5%B1%80"><span class="toc-text">3.1.6 布局</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-7%E8%A1%A8%E5%8D%95%E9%AA%8C%E8%AF%81"><span class="toc-text">3.1.7表单验证</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-8-%E8%8E%B7%E5%8F%96%E9%AA%8C%E8%AF%81%E7%A0%81"><span class="toc-text">3.1.8 获取验证码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-9-%E8%AE%BE%E7%BD%AE%E5%80%92%E8%AE%A1%E6%97%B6"><span class="toc-text">3.1.9 设置倒计时</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-0-%E7%99%BB%E5%BD%95%E6%88%90%E5%8A%9F"><span class="toc-text">3.2.0 登录成功</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-1-vuex%E4%BF%9D%E5%AD%98%E6%88%B7%E4%BF%A1%E6%81%AF"><span class="toc-text">3.2.1 vuex保存户信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-2-%E4%BF%9D%E5%AD%98token"><span class="toc-text">3.2.2 保存token</span></a></li></ol></li></ol></li></ol>
    </div>


<article class="post content-card">
    <div class="post__header"></div>
    <div class="post__content">
        <p>Vue2.0 + vant-ui 的移动端练手项目</p>
<a id="more"></a>

<h2 id="1-创建项目"><a href="#1-创建项目" class="headerlink" title="1.创建项目"></a>1.创建项目</h2><h3 id="1-1-vue-create"><a href="#1-1-vue-create" class="headerlink" title="1.1 vue create"></a>1.1 vue create</h3><pre><code class="hljs cmd">vue create test</code></pre>

<h3 id="1-2-自定义配置"><a href="#1-2-自定义配置" class="headerlink" title="1.2 自定义配置"></a>1.2 自定义配置</h3><h4 id="1-2-1-选择插件"><a href="#1-2-1-选择插件" class="headerlink" title="1.2.1 选择插件"></a>1.2.1 选择插件</h4><pre><code class="hljs ada">&gt; Manually <span class="hljs-keyword">select</span> features</code></pre>

<ul>
<li>Babel    （ES6转ES5）</li>
<li>TypeScript</li>
<li>Progressive Web App(PWA) Support    （贴近原生App）</li>
<li>Router</li>
<li>Vuex</li>
<li>CSS Pre-processors    （使用Css预处理）</li>
<li>Linter / Formatter    （ esLint 语法规范 ）</li>
<li>Unit Testing    （一般是测试人员做的事情）</li>
<li>E2E Testing    （一般是测试人员做的事情）</li>
</ul>
<h4 id="1-2-2-选择路由模式"><a href="#1-2-2-选择路由模式" class="headerlink" title="1.2.2 选择路由模式"></a>1.2.2 选择路由模式</h4><pre><code class="hljs cmd">&gt; Use history <span class="hljs-built_in">mode</span> <span class="hljs-keyword">for</span> router?</code></pre>

<ul>
<li>选择路由模式<ul>
<li>Y    history模式（地址不带#号，需要做相关配置）</li>
<li>n    hash模式（地址带#号，不用配置）</li>
</ul>
</li>
</ul>
<h4 id="1-2-3-配置Css预处理"><a href="#1-2-3-配置Css预处理" class="headerlink" title="1.2.3 配置Css预处理"></a>1.2.3 配置Css预处理</h4><pre><code class="hljs markdown"><span class="hljs-quote">&gt; Pick a CSS pre-processor</span></code></pre>

<ul>
<li>选择 Css 预处理插件<ul>
<li>Less</li>
</ul>
</li>
</ul>
<h4 id="1-2-4-配置-eslint"><a href="#1-2-4-配置-eslint" class="headerlink" title="1.2.4 配置 eslint"></a>1.2.4 配置 eslint</h4><pre><code class="hljs applescript">&gt; ESLint <span class="hljs-keyword">with</span> <span class="hljs-keyword">error</span> prevention only</code></pre>

<ul>
<li>选择  esLint  语法检查模式<ul>
<li>ESLint + Standard config（标准模式）</li>
</ul>
</li>
</ul>
<pre><code class="hljs markdown"><span class="hljs-quote">&gt; Pick additional lint features:</span></code></pre>

<ul>
<li>在何处进行语法检查<ul>
<li>Lint on save（保存时）</li>
<li>Lint and fix on commit（提交时）</li>
</ul>
</li>
</ul>
<h4 id="1-2-5-集成配置文件"><a href="#1-2-5-集成配置文件" class="headerlink" title="1.2.5 集成配置文件"></a>1.2.5 集成配置文件</h4><pre><code class="hljs routeros">&gt; Where <span class="hljs-keyword">do</span> you prefer placing<span class="hljs-built_in"> config </span><span class="hljs-keyword">for</span> Babel, ESLint, etc.</code></pre>

<ul>
<li>你更喜欢把配置放在哪里<ul>
<li>In dedicated config files（每个配置一个文件）</li>
<li>In package.json （集成在  package.json 中）</li>
</ul>
</li>
</ul>
<h4 id="1-2-5-保存次配置选项"><a href="#1-2-5-保存次配置选项" class="headerlink" title="1.2.5 保存次配置选项"></a>1.2.5 保存次配置选项</h4><pre><code class="hljs kotlin">&gt; Save <span class="hljs-keyword">this</span> <span class="hljs-keyword">as</span> a preset <span class="hljs-keyword">for</span> future projects?</code></pre>

<ul>
<li>保存本次配置，下次可以延用<ul>
<li>y    <ul>
<li>Save preset as: 保存项名字</li>
<li>下次 vue create 可以看到这个名字</li>
</ul>
</li>
<li>n<ul>
<li>不保存</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="1-3-eslint-“-标准规范-”"><a href="#1-3-eslint-“-标准规范-”" class="headerlink" title="1.3 eslint “ 标准规范 ”"></a>1.3 eslint “ 标准规范 ”</h3><ul>
<li><p>作用：</p>
<ul>
<li><p>用来规范 js 的写法。它就是一个规范</p>
</li>
<li><p>Standard：标准规范（不是业内标准，只是插件的标准）</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/standard/standard/blob/master/docs/README-zhcn.md">Standard规范 传送门</a></p>
</li>
</ul>
</li>
</ul>
<h4 id="1-3-1-具体规定"><a href="#1-3-1-具体规定" class="headerlink" title="1.3.1 具体规定"></a>1.3.1 具体规定</h4><ul>
<li>1.0 缩进使用两个空格</li>
<li>2.0 字符串使用单引号</li>
<li>3.0 句未不能以分号结尾</li>
<li>4.0 行首不要以 (, [ 开头</li>
<li>5.0 关键字后面必须加空格</li>
<li>6.0 函数名后面必须加空格</li>
<li>7.0 <strong>不要有冗余的变量</strong></li>
<li>8.0 <strong>使用 <code>===</code> 替换 <code>==</code></strong></li>
<li>9.0 <strong>使用浏览器全局变量时加上 window 前辍</strong></li>
<li>10.0 <strong>注释的双斜杠后面必须加一个空格</strong></li>
<li>11.0 行未千万不加空格</li>
<li>12.0 每个文件结束之后必须添加一个新的换行</li>
<li>13.0 空行不能同时存在多个</li>
<li>14.0 <strong>不修改的变量不能使用 let 定义</strong></li>
<li>15.0 <strong>变量名不能用 _  （仅在data中检查）</strong></li>
</ul>
<h4 id="1-3-2-格式化插件"><a href="#1-3-2-格式化插件" class="headerlink" title="1.3.2 格式化插件"></a>1.3.2 格式化插件</h4><pre><code class="hljs ebnf"><span class="hljs-attribute">Prettier-Standard - JavaScript formatter</span></code></pre>



<h4 id="1-3-3-注意点"><a href="#1-3-3-注意点" class="headerlink" title="1.3.3 注意点"></a>1.3.3 注意点</h4><ul>
<li>如果错误过多，该指令可以一次性将错误基本修复<ul>
<li>只修改语法错误，不修改代码<pre><code class="hljs applescript">npm <span class="hljs-built_in">run</span> lint <span class="hljs-comment">--fix</span></code></pre>



</li>
</ul>
</li>
</ul>
<h3 id="1-4-纯净化项目结构"><a href="#1-4-纯净化项目结构" class="headerlink" title="1.4 纯净化项目结构"></a>1.4 纯净化项目结构</h3><h4 id="1-4-1-删除不需要的"><a href="#1-4-1-删除不需要的" class="headerlink" title="1.4.1 删除不需要的"></a>1.4.1 删除不需要的</h4><ul>
<li>将 <code>compoents</code> 下面的所有内容全部删除</li>
<li>将 <code>views</code> 下面的所有内容删除</li>
<li>将 <code>App.vue</code> 中的内容全部清除，只留下一个 <code>&lt;router-view&gt;&lt;/router-view&gt;</code></li>
<li>将 <code>router.js</code> 中导入的路由文件删除，清空路由信息</li>
</ul>
<h4 id="1-4-2-添加文件夹"><a href="#1-4-2-添加文件夹" class="headerlink" title="1.4.2 添加文件夹"></a>1.4.2 添加文件夹</h4><ul>
<li><code>api</code>：管理所有的网络请求</li>
<li><code>style</code>：管理所有的样式</li>
<li><code>utils</code>：管理所有的自己定义工具类</li>
<li>assets：管理所有的静态资源</li>
<li>components：管理全局的组件</li>
<li>views：管理当前项目中的页面组件</li>
</ul>
<h2 id="2-导入组件"><a href="#2-导入组件" class="headerlink" title="2.导入组件"></a>2.导入组件</h2><ul>
<li><p>vant ：<code>npm i vant -S </code></p>
</li>
<li><p>导入组件（导入所有组件的方式）</p>
<pre><code class="hljs js"><span class="hljs-keyword">import</span> Vant <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vant&#x27;</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;vant/lib/index.css&#x27;</span>
<span class="hljs-comment">// 使用 vant</span>
Vue.use(Vant)</code></pre>



</li>
</ul>
<h2 id="3-页面适配"><a href="#3-页面适配" class="headerlink" title="3.页面适配"></a>3.页面适配</h2><h3 id="3-1-flexible"><a href="#3-1-flexible" class="headerlink" title="3.1 flexible"></a>3.1 flexible</h3><blockquote>
<p>可以自动给页面中的 html 标签设置字体大小，以此设置 rem 的基本值</p>
</blockquote>
<p>步骤：</p>
<ul>
<li><p>1.0 安装 <code>lib-flexible</code></p>
<pre><code class="hljs bash">npm i -S amfe-flexible</code></pre>
</li>
<li><p>2.0 在 <code>main.js</code> 中引入 <code>lib-flexible</code></p>
<pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;amfe-flexible&#x27;</span></code></pre>


</li>
</ul>
<ul>
<li>元素px  除以（设计稿尺寸/10）<ul>
<li>单位 rem</li>
</ul>
</li>
</ul>
<h3 id="3-2-postcss-pxtorem"><a href="#3-2-postcss-pxtorem" class="headerlink" title="3.2 postcss-pxtorem"></a>3.2 postcss-pxtorem</h3><blockquote>
<p>设计稿中的测量出来的长度都是 px, 无法自动适应设备，如果自己手写 px 转换 rem 太麻烦了，可以使用<code>postcss-pxtorem</code>来自动设置</p>
<p>文档地址：<a target="_blank" rel="noopener" href="https://github.com/cuth/postcss-pxtorem">https://github.com/cuth/postcss-pxtorem</a></p>
</blockquote>
<p>步骤：</p>
<ul>
<li>1.0 下载 postcss-pxtorem</li>
</ul>
<pre><code class="hljs javascript">npm install postcss-pxtorem --save-dev</code></pre>



<ul>
<li>2.0 使用插件</li>
</ul>
<pre><code class="hljs javascript"><span class="hljs-comment">// 项目根目录中创建了`vue.config.js`</span>
<span class="hljs-comment">// 导包</span>
<span class="hljs-keyword">const</span> autoprefixer = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;autoprefixer&#x27;</span>)
<span class="hljs-comment">// 导包</span>
<span class="hljs-keyword">const</span> pxtorem = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;postcss-pxtorem&#x27;</span>)

<span class="hljs-comment">// 暴露出去</span>
<span class="hljs-built_in">module</span>.exports = &#123;
  <span class="hljs-comment">// css属性如何处理</span>
  css: &#123;
    <span class="hljs-comment">// 处理的选项</span>
    loaderOptions: &#123;
      postcss: &#123;
        plugins: [
          autoprefixer(),
          <span class="hljs-comment">// 使用 pxtorem库进行转换</span>
          pxtorem(&#123;
            rootValue: <span class="hljs-number">37.5</span>,
            propList: [<span class="hljs-string">&#x27;*&#x27;</span>]
          &#125;)
        ]
      &#125;
    &#125;
  &#125;
&#125;</code></pre>



<h3 id="3-3全局的less处理"><a href="#3-3全局的less处理" class="headerlink" title="3.3全局的less处理"></a>3.3全局的less处理</h3><blockquote>
<p>有了设计规范之后，我们就可以根据规范中的内容抽取<code>less</code>全局变量啦,把颜色抽取一波,同时配合自动化导入让代码中可以使用</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://cli.vuejs.org/zh/guide/css.html#%E9%A2%84%E5%A4%84%E7%90%86%E5%99%A8">预处理器</a></p>
<p><a target="_blank" rel="noopener" href="https://cli.vuejs.org/zh/guide/css.html#%E8%87%AA%E5%8A%A8%E5%8C%96%E5%AF%BC%E5%85%A5">自动化导入</a></p>
<p><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/vue-cli-plugin-style-resources-loader">style-resources-loader</a></p>
<h4 id="3-3-1-定义全局文件"><a href="#3-3-1-定义全局文件" class="headerlink" title="3.3.1 定义全局文件"></a>3.3.1 定义全局文件</h4><p>在    src    的    style    目录下创建    xxx.less</p>
<h4 id="3-3-2-装包"><a href="#3-3-2-装包" class="headerlink" title="3.3.2 装包"></a>3.3.2 装包</h4><pre><code class="hljs javascript">vue add style-resources-loader</code></pre>

<ul>
<li>如果报错 输入命令   set-ExecutionPolicy RemoteSigned </li>
</ul>
<h4 id="3-3-3-配置"><a href="#3-3-3-配置" class="headerlink" title="3.3.3 配置"></a>3.3.3 配置</h4><p>写配置文件<code>vue.config.js</code></p>
<pre><code class="hljs javascript"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;path&#x27;</span>)

<span class="hljs-built_in">module</span>.exports = &#123;
  <span class="hljs-comment">// 插件配置</span>
  pluginOptions: &#123;
    <span class="hljs-comment">// style-resources-loader配置</span>
    <span class="hljs-string">&#x27;style-resources-loader&#x27;</span>: &#123;
      <span class="hljs-comment">// 预处理程序选择 less</span>
      preProcessor: <span class="hljs-string">&#x27;less&#x27;</span>,
      <span class="hljs-comment">// 参数</span>
      patterns: [
        <span class="hljs-comment">// 项目根路径下 /src/styles/ 的所有less文件</span>
        <span class="hljs-comment">// 指定某一个的话可以具体设置为某一个less文件</span>
        path.resolve(__dirname, <span class="hljs-string">&#x27;./src/style/*.less&#x27;</span>)
      ]
    &#125;
  &#125;
&#125;</code></pre>



<h4 id="3-3-4-less可变插值"><a href="#3-3-4-less可变插值" class="headerlink" title="3.3.4 less可变插值"></a>3.3.4 less可变插值</h4><pre><code class="hljs css">&lt;style lang=&quot;less&quot;&gt;
    <span class="hljs-selector-class">.widthset</span>(<span class="hljs-keyword">@key</span>,<span class="hljs-keyword">@w</span>) &#123;
      @&#123;<span class="hljs-selector-tag">key</span>&#125;: 1<span class="hljs-selector-tag">rem</span> * <span class="hljs-keyword">@w</span> / <span class="hljs-number">75</span>;
    &#125;
    <span class="hljs-selector-class">.bg</span> &#123;
      .widthset(width, 750);
      <span class="hljs-selector-class">.widthset</span>(<span class="hljs-selector-tag">height</span>, 80);
      <span class="hljs-selector-tag">background-color</span>: <span class="hljs-selector-tag">pink</span>;
    &#125;
&lt;/style&gt;</code></pre>



<h3 id="4-normalize-css"><a href="#4-normalize-css" class="headerlink" title="4. normalize.css"></a>4. normalize.css</h3><blockquote>
<p>很多现代化浏览器会为元素标签添加一些独有的默认样式，这会带来一定的显示差异，我们可以自己写<code>css</code>去覆盖，但是有个写好的样式库可以直接使用，他就是<code>normalize.css</code></p>
<p>文档地址：<a target="_blank" rel="noopener" href="http://necolas.github.io/normalize.css/">http://necolas.github.io/normalize.css/</a></p>
</blockquote>
<ul>
<li><p>1.0 下载 normalize.css</p>
<pre><code class="hljs bash">npm install normalize.css</code></pre>
</li>
<li><p>2.0 导入第三方包</p>
<pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;normalize.css&#x27;</span></code></pre>




</li>
</ul>
<h3 id="5-配置地址环境变量"><a href="#5-配置地址环境变量" class="headerlink" title="5. 配置地址环境变量"></a>5. 配置地址环境变量</h3><p>在根目录下创建</p>
<pre><code class="hljs routeros">.env.development
    写入 <span class="hljs-attribute">VUE_APP_XX</span>=测试地址
.env.production
    写入 <span class="hljs-attribute">VUE_APP_XX</span>=生产地址</code></pre>

<p>重启项目，打印一下是否成功</p>
<pre><code class="hljs mel">created () &#123;
    <span class="hljs-keyword">window</span>.console.<span class="hljs-keyword">log</span>(process.<span class="hljs-keyword">env</span>.VUE_APP_URL)
&#125;,</code></pre>



<h3 id="6-axios，配置基地址"><a href="#6-axios，配置基地址" class="headerlink" title="6.axios，配置基地址"></a>6.axios，配置基地址</h3><p>在 api 文件夹下 创建 requset.js</p>
<pre><code class="hljs javascript"><span class="hljs-comment">//导入axios</span>
<span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;axios&#x27;</span>
<span class="hljs-comment">//创建副本</span>
<span class="hljs-keyword">const</span> _fetch = axios.create(&#123;
  baseURL: process.env.VUE_APP_URL
&#125;)

<span class="hljs-comment">//请求拦截</span>
_fetch.interceptors.request.use(
  config =&gt; &#123;
    <span class="hljs-keyword">return</span> config
  &#125;,
  error =&gt; &#123;
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.reject(error)
  &#125;
)

<span class="hljs-comment">//响应拦截</span>
_fetch.interceptors.response.use(
  res =&gt; &#123;
    <span class="hljs-keyword">return</span> res
  &#125;,
  error =&gt; &#123;
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.reject(error)
  &#125;
)

<span class="hljs-comment">//暴露方法</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> _fetch</code></pre>







<h2 id="3-起步"><a href="#3-起步" class="headerlink" title="3.起步"></a>3.起步</h2><h3 id="3-1-登录页面"><a href="#3-1-登录页面" class="headerlink" title="3.1 登录页面"></a>3.1 登录页面</h3><h4 id="3-1-1-创建-login-页"><a href="#3-1-1-创建-login-页" class="headerlink" title="3.1.1 创建 login 页"></a>3.1.1 创建 login 页</h4><pre><code class="hljs css">在 <span class="hljs-selector-tag">views</span> 下创建 <span class="hljs-selector-tag">login</span><span class="hljs-selector-class">.vue</span>，初始化组件</code></pre>

<h4 id="3-1-2-配置路由"><a href="#3-1-2-配置路由" class="headerlink" title="3.1.2 配置路由"></a>3.1.2 配置路由</h4><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> routes = [
  &#123; <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/&#x27;</span>, <span class="hljs-attr">redirect</span>: <span class="hljs-string">&#x27;/login&#x27;</span> &#125;,
  &#123; <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/login&#x27;</span>, <span class="hljs-attr">component</span>: login &#125;
]</code></pre>

<h4 id="3-1-3-设置路由出口"><a href="#3-1-3-设置路由出口" class="headerlink" title="3.1.3 设置路由出口"></a>3.1.3 设置路由出口</h4><p>在 App.vue 中</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">router-view</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">router-view</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></code></pre>

<h4 id="3-1-4-配置base-css"><a href="#3-1-4-配置base-css" class="headerlink" title="3.1.4 配置base.css"></a>3.1.4 配置base.css</h4><p>在 main 中 引入</p>
<pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;@/style/base.css&#x27;</span></code></pre>

<h4 id="3-1-5-配置全局less"><a href="#3-1-5-配置全局less" class="headerlink" title="3.1.5 配置全局less"></a>3.1.5 配置全局less</h4><pre><code class="hljs less"><span class="hljs-comment">//公共边距</span>
<span class="hljs-variable">@p15:</span> <span class="hljs-number">15px</span>;</code></pre>

<h4 id="3-1-6-布局"><a href="#3-1-6-布局" class="headerlink" title="3.1.6 布局"></a>3.1.6 布局</h4><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;login&quot;</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- 导航栏 --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">van-nav-bar</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">left</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;iconfont f44&quot;</span>&gt;</span><span class="hljs-symbol">&amp;#xe637;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">van-nav-bar</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- 内容 --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- 文字 --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span>您好，请登录<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- 表单 --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">van-form</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- 输入框 --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">van-field</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;请输入手机号&quot;</span>&gt;</span>
          <span class="hljs-comment">&lt;!-- 插槽,左侧图标 --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">left-icon</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;iconfont p41&quot;</span>&gt;</span><span class="hljs-symbol">&amp;#xe60b;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">van-field</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- 输入框 --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">van-field</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;请输入验证码&quot;</span>&gt;</span>
          <span class="hljs-comment">&lt;!-- 插槽,左侧图标 --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">left-icon</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;iconfont p41&quot;</span>&gt;</span><span class="hljs-symbol">&amp;#xe60b;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
          <span class="hljs-comment">&lt;!-- 插槽,右侧按钮 --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">button</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;code&quot;</span>&gt;</span>获取验证码<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">van-field</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">van-form</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- 协议 --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tip&quot;</span>&gt;</span>
        登录即同意
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tip-color&quot;</span>&gt;</span>《用户使用协议 <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        和
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tip-color&quot;</span>&gt;</span>《隐私协议》<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- 确定按钮 --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">van-button</span> <span class="hljs-attr">color</span>=<span class="hljs-string">&quot;#E40137&quot;</span> <span class="hljs-attr">round</span> <span class="hljs-attr">block</span>&gt;</span>确定<span class="hljs-tag">&lt;/<span class="hljs-name">van-button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span>
<span class="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span>
  data () &#123;
<span class="javascript">    <span class="hljs-keyword">return</span> &#123;&#125;</span>
  &#125;
&#125;
<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;less&quot;</span> <span class="hljs-attr">scoped</span>&gt;</span>
<span class="css"><span class="hljs-selector-class">.login</span> &#123;</span>
<span class="css">  <span class="hljs-selector-class">.content</span> &#123;</span>
<span class="css">    <span class="hljs-selector-tag">padding</span>: 0 <span class="hljs-keyword">@p15</span>;</span>
<span class="css">    <span class="hljs-selector-class">.title</span> &#123;</span>
      font-size: 18px;
      font-family: PingFangSC, PingFangSC-Semibold;
      font-weight: 600;
      text-align: left;
<span class="css">      <span class="hljs-selector-tag">color</span>: <span class="hljs-selector-id">#222222</span>;</span>
      line-height: 25px;
      letter-spacing: 0px;
      margin: 50px 0 65px;
    &#125;
<span class="css">    <span class="hljs-selector-class">.p41</span> &#123;</span>
      margin-right: 20px;
    &#125;
<span class="css">    <span class="hljs-selector-class">.code</span> &#123;</span>
      font-size: 16px;
      font-family: PingFangSC, PingFangSC-Regular;
      font-weight: 400;
      text-align: left;
<span class="css">      <span class="hljs-selector-tag">color</span>: <span class="hljs-selector-id">#00b8d4</span>;</span>
<span class="css">      <span class="hljs-selector-tag">line-height</span>: 22<span class="hljs-selector-class">.5px</span>;</span>
      letter-spacing: 0px;
    &#125;
<span class="css">    <span class="hljs-selector-class">.tip</span> &#123;</span>
      margin-top: 26px;
      margin-bottom: 44px;
      font-size: 12px;
      font-family: PingFangSC, PingFangSC-Regular;
      font-weight: 400;
      text-align: left;
<span class="css">      <span class="hljs-selector-tag">color</span>: <span class="hljs-selector-id">#181a39</span>;</span>
<span class="css">      <span class="hljs-selector-tag">line-height</span>: 16<span class="hljs-selector-class">.5px</span>;</span>
      letter-spacing: 0px;
<span class="css">      <span class="hljs-selector-class">.tip-color</span> &#123;</span>
<span class="css">        <span class="hljs-selector-tag">color</span>: <span class="hljs-selector-id">#00b8d4</span>;</span>
      &#125;
    &#125;
  &#125;
&#125;
<span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></code></pre>



<h4 id="3-1-7表单验证"><a href="#3-1-7表单验证" class="headerlink" title="3.1.7表单验证"></a>3.1.7表单验证</h4><p>示范</p>
<pre><code class="hljs javascript">&lt;van-form ref=<span class="hljs-string">&quot;form&quot;</span>&gt;

&lt;van-field
  v-model=<span class="hljs-string">&quot;form.mobile&quot;</span>
  :rules=<span class="hljs-string">&quot;rules.mobile&quot;</span>
  name=<span class="hljs-string">&quot;mobile&quot;</span>
&gt;

&lt;srcipt&gt;
    form: &#123;
        mobile: <span class="hljs-string">&#x27;&#x27;</span>,
      &#125;,
    rules: &#123;
        mobile: [
          &#123; <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;用户名不能为空&#x27;</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&#x27;onChange&#x27;</span> &#125;,
          <span class="hljs-comment">//自定义表单验证</span>
          &#123; <span class="hljs-attr">validator</span>: <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> &#123;
              <span class="hljs-keyword">const</span> _reg = <span class="hljs-regexp">/xxx/</span>
              <span class="hljs-keyword">return</span> _reg.test(value)
            &#125;,<span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;请输入正确的手机号&#x27;</span>,<span class="hljs-attr">trigger</span>: <span class="hljs-string">&#x27;onChange&#x27;</span>
          &#125;
        ],
      &#125;
&lt;/srcipt&gt;</code></pre>



<h4 id="3-1-8-获取验证码"><a href="#3-1-8-获取验证码" class="headerlink" title="3.1.8 获取验证码"></a>3.1.8 获取验证码</h4><p>在 api 文件夹下创建 login.js</p>
<pre><code class="hljs javascript"><span class="hljs-comment">//导入拦截器</span>
<span class="hljs-keyword">import</span> _fetch <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./requset&#x27;</span>

<span class="hljs-comment">//配置方法</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getCode</span> (<span class="hljs-params">data</span>) </span>&#123;
  <span class="hljs-keyword">return</span> _fetch(&#123;
    url: <span class="hljs-string">&#x27;/au/code&#x27;</span>,
    method: <span class="hljs-string">&#x27;post&#x27;</span>,
    data
  &#125;)
&#125;

<span class="hljs-comment">//暴露方法</span>
<span class="hljs-keyword">export</span> &#123; getCode &#125;</code></pre>

<p>在 login.vue 中</p>
<pre><code class="hljs javascript"><span class="hljs-comment">//引入方法</span>
<span class="hljs-keyword">import</span> &#123; getCode &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/api/login.js&#x27;</span>

<span class="hljs-comment">//局部表单验证通过后</span>
getCode(&#123;
    mobile: <span class="hljs-built_in">this</span>.form.mobile
&#125;).then(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> &#123;
    <span class="hljs-built_in">this</span>.$toast.success(res.data.data)
&#125;)</code></pre>



<h4 id="3-1-9-设置倒计时"><a href="#3-1-9-设置倒计时" class="headerlink" title="3.1.9 设置倒计时"></a>3.1.9 设置倒计时</h4><p>在验证码局部表单验证成功后</p>
<pre><code class="hljs javascript">data()&#123;
    codeTime:<span class="hljs-number">6</span>,
&#125;


<span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.codeTime === <span class="hljs-number">6</span>) &#123;
    <span class="hljs-built_in">this</span>.codeTime--
    <span class="hljs-keyword">const</span> _time = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> &#123;
      <span class="hljs-built_in">this</span>.codeTime--
      <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.codeTime &lt;= <span class="hljs-number">0</span>) &#123;
        <span class="hljs-built_in">this</span>.codeTime = <span class="hljs-number">6</span>
        <span class="hljs-built_in">clearInterval</span>(_time)
      &#125;
    &#125;, <span class="hljs-number">1000</span>)
&#125;</code></pre>

<p>html配置</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;code&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;getCode&quot;</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;codeTime === 6&quot;</span>&gt;</span>
      获取验证码
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;code code2&quot;</span> <span class="hljs-attr">disabled</span> <span class="hljs-attr">v-else</span>&gt;</span>&#123;&#123; codeTime &#125;&#125;后重试<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></code></pre>



<h4 id="3-2-0-登录成功"><a href="#3-2-0-登录成功" class="headerlink" title="3.2.0 登录成功"></a>3.2.0 登录成功</h4><p>调用登录接口，在 api 文件夹下的 login.js 中定义方法</p>
<pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">auLogin</span> (<span class="hljs-params">data</span>) </span>&#123;
  <span class="hljs-keyword">return</span> _fetch(&#123;
    url: <span class="hljs-string">&#x27;/au/login&#x27;</span>,
    method: <span class="hljs-string">&#x27;post&#x27;</span>,
    data
  &#125;)
&#125;</code></pre>

<p>引入方法</p>
<pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; getCode, auLogin &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/api/login.js&#x27;</span></code></pre>

<p>表单验证成功后调用方法</p>
<pre><code class="hljs javascript">auLogin(<span class="hljs-built_in">this</span>.form).then(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> &#123;
    <span class="hljs-built_in">window</span>.console.log(res)
    saveLocal(res.data.data.jwt)
&#125;)</code></pre>



<h4 id="3-2-1-vuex保存户信息"><a href="#3-2-1-vuex保存户信息" class="headerlink" title="3.2.1 vuex保存户信息"></a>3.2.1 vuex保存户信息</h4><p>在 store 文件夹下的 index.js 中配置变量</p>
<pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> Vuex.Store(&#123;
  state: &#123;
    userInfo: <span class="hljs-string">&#x27;&#x27;</span>
  &#125;,
  mutations: &#123;
    setUserInfo (state, value) &#123;
      state.userInfo = value
    &#125;
  &#125;,
  actions: &#123;&#125;,
  modules: &#123;&#125;
&#125;)</code></pre>

<p>使用 vue 的 <strong>mutations</strong> 保存登录成功后返回的信息</p>
<blockquote>
<p><strong>this.$store.commit( ‘ 方法名 ‘ , 参数)</strong></p>
</blockquote>
<pre><code class="hljs javascript">auLogin(<span class="hljs-built_in">this</span>.form).then(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> &#123;
    <span class="hljs-built_in">window</span>.console.log(res)
    <span class="hljs-comment">//保存用户信息</span>
    <span class="hljs-built_in">this</span>.$store.commit(<span class="hljs-string">&#x27;setUserInfo&#x27;</span>, res.data.data.user)
&#125;)</code></pre>



<h4 id="3-2-2-保存token"><a href="#3-2-2-保存token" class="headerlink" title="3.2.2 保存token"></a>3.2.2 保存token</h4><p>在 utils 文件夹下 自定义处理 localStorage 的方法</p>
<pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getLocal</span> (<span class="hljs-params">key = <span class="hljs-string">&#x27;token&#x27;</span></span>) </span>&#123;
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">window</span>.localStorage.getItem(key)
&#125;
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">saveLocal</span> (<span class="hljs-params">value, key = <span class="hljs-string">&#x27;token&#x27;</span></span>) </span>&#123;
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">window</span>.localStorage.setItem(key, value)
&#125;
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removeLocal</span> (<span class="hljs-params">key = <span class="hljs-string">&#x27;token&#x27;</span></span>) </span>&#123;
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">window</span>.localStorage.removetItem(key)
&#125;
<span class="hljs-comment">//暴露方法</span>
<span class="hljs-keyword">export</span> &#123; getLocal, saveLocal, removeLocal &#125;</code></pre>

<p>在登录页，返回登录成功参数的地方调用方法</p>
<pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; saveLocal &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/utils/local.js&#x27;</span>

auLogin(<span class="hljs-built_in">this</span>.form).then(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> &#123;
    <span class="hljs-built_in">window</span>.console.log(res)
    <span class="hljs-built_in">this</span>.$store.commit(<span class="hljs-string">&#x27;setUserInfo&#x27;</span>, res.data.data.user)
    <span class="hljs-comment">//保存 token</span>
    saveLocal(res.data.data.jwt)
&#125;)</code></pre>
















    </div>
     
    <div class="post-footer__meta">
    <p>
        更新于 2020-10-09
    </p>
</div> 
    <div class="post-meta__cats">
    
        <a href="/categories/%E7%BB%83%E4%B9%A0/" class="post-cats__link button">练习</a>
    
    
        <a href="/tags/Vue/" class="post-tags__link button"># Vue</a>
    
</div> 
</article>


    <div class="nav">
        <div class="nav__prev">
            
                <a href="/2020/08/07/Vant-ui/" class="nav__link">
                    <div>
                        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M589.088 790.624L310.464 512l278.624-278.624 45.248 45.248L400.96 512l233.376 233.376z" fill="#808080"></path></svg>
                    </div>
                    <div>
                        <div class="nav__label">
                            Previous Post
                        </div>
                        <div class="nav__title">
                            Vant
                        </div>
                    </div>
                </a>
            
        </div>
        <div class="nav__next">
            
        </div>
    </div>





</main>

            <footer class="footer">
    


    
     
 

 
    
        
        <p class="footer-copyright">
            Copyright © 2018&nbsp;-&nbsp;2020 <a href="/">夜雨声繁</a>
        </p>
    
    
    <p>Powered by <a href="https://hexo.io" target="_blank">Hexo</a> | Theme - <a href="https://github.com/ChrAlpha/hexo-theme-cards" target="_blank">Cards</a></p>
</footer>

        </div>
        
    <script defer src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.1.0/dist/lazyload.min.js"></script>
    <script>
        window.lazyLoadOptions = {
            elements_selector: ".lazy",
            threshold: 0
        };
    </script>
 

 

 

 

  



 


    
 

 

 

 




    </body>
</html>
